---
layout: layouts/home.njk
eleventyNavigation:
  key: Home
  order: 1
numberOfLatestPostsToShow: 4
---
{% set postsCount = collections.posts | length %}
{% set postslist = (collections.posts | head(-1 * numberOfLatestPostsToShow)).reverse() %}
{% set postslistCounter = postsCount %}

<section>
	<h1>Latest</h1>
	{% include "postslist.njk" %}
	<a class="more-posts" href="/categories/latest">see more...</a>
</section>

<div class="message-box">
	{% renderFile "./content/sidebars/whatsthegourmez.md" %}
</div>

<section>
	<h1>Eateries</h1>
	{% set postsCount = collections.posts | filterByCommonCategories(['restaurants', 'ice-cream-parlors', 'bakeries', 'food-trucks']) | length %}
	{% set postslist = (collections.posts | filterByCommonCategories(['restaurants', 'ice-cream-parlors', 'bakeries', 'food-trucks']) | head(-1 * numberOfLatestPostsToShow)).reverse() %}
	{% include "postslist.njk" %}
	<a class="more-posts" href="/categories/eateries">see more...</a>
</section>

<div class="message-box">
	{% renderFile "./content/sidebars/about.md" %}
</div>

<section>
<h1>Wines</h1>
{% set postsCount = collections.posts | filterByCommonCategories(['wine']) | length %}
{% set postslist = (collections.posts | filterByCommonCategories(['wine']) | head(-1 * numberOfLatestPostsToShow)).reverse() %}
{% include "postslist.njk" %}
<a class="more-posts" href="/categories/wine">see more...</a>
</section>

<div class="message-box-categories">
	{% renderFile "./content/sidebars/categories.md" %}
</div>

<section>
<h1>Posts By City</h1>
<ol reversed class="cities postlist">
{% set postsCount = collections.posts | filterByTags(['hayward']) | length %}
{% set postslist = collections.posts | filterByTags(['hayward']) | head(-1) %}
{% set city = 'hayward' %}
{% set cityname = 'Hayward' %}
{% include "city-postslist.njk" %}

{% set postsCount = collections.posts | filterByTags(['oakland']) | length %}
{% set postslist = collections.posts | filterByTags(['oakland']) | head(-1) %}
{% set city = 'oakland' %}
{% set cityname = 'Oakland' %}
{% include "city-postslist.njk" %}

{% set postsCount = collections.posts | filterByTags(['san-francisco']) | length %}
{% set postslist = collections.posts | filterByTags(['san-francisco']) | head(-1) %}
{% set city = 'san-francisco' %}
{% set cityname = 'San Francisco' %}
{% include "city-postslist.njk" %}

{% set postsCount = collections.posts | filterByTags(['berkeley']) | length %}
{% set postslist = collections.posts | filterByTags(['berkeley']) | head(-1) %}
{% set city = 'berkeley' %}
{% set cityname = 'Berkeley' %}
{% include "city-postslist.njk" %}

{% set postsCount = collections.posts | filterByTags(['castro-valley']) | length %}
{% set postslist = collections.posts | filterByTags(['castro-valley']) | head(-1) %}
{% set city = 'castro-valley' %}
{% set cityname = 'Castro Valley' %}
{% include "city-postslist.njk" %}

{% set postsCount = collections.posts | filterByTags(['san-leandro']) | length %}
{% set postslist = collections.posts | filterByTags(['san-leandro']) | head(-1) %}
{% set city = 'san-leandro' %}
{% set cityname = 'San Leandro' %}
{% include "city-postslist.njk" %}

{% set postsCount = collections.posts | filterByTags(['san-lorenzo']) | length %}
{% set postslist = collections.posts | filterByTags(['san-lorenzo']) | head(-1) %}
{% set city = 'san-lorenzo' %}
{% set cityname = 'San Lorenzo' %}
{% include "city-postslist.njk" %}

{% set postsCount = collections.posts | filterByTags(['durham', 'raleigh' , 'chapel-hill' , 'carrboro' , 'cary', 'apex' , 'morrisville']) | length %}
{% set postslist = collections.posts | filterByTags(['durham', 'raleigh' , 'chapel-hill' , 'carrboro' , 'cary', 'apex' , 'morrisville']) | head(-1) %}
{% set city = 'durham', 'raleigh' , 'chapel-hill' , 'carrboro' , 'cary', 'apex' , 'morrisville' %}
{% set cityname = 'NC Triangle' %}
{% include "city-postslist.njk" %}


</ol>
<span class="more-posts" style="font-weight: bold">for more cities, use the search bar</span>
</section>

<div class="message-box">
	{% renderFile "./content/sidebars/fiction.md" %}
</div>
